## 网络流量在线分析系统的设计与实现（C++） 
该系统具有以下功能：  
1. 实时抓取网络数据  
2. 网络协议分析与显示  
3. 将网络数据包聚合成数据流，以源IP、目的IP、源端口、目的端口及协议等五元组的形式存储  
4. 计算并显示固定时间间隔内网络连接（双向流）的统计量（如数据包数目，数据量大小等)  

### V1.0 
实现了读取网卡，获取数据，解析数据包并输出数据信息。
### V2.0 
利用生产者、消费者模型，开启两个子线程，一个线程向hash链表中写入数据并把数据写入到文件packetout.txt中，一个线程从hash链表中读出数据，并且把读出的数据删除，为了保证线程安全，使用了线程锁。

### 使用方法  
环境: linux  
获取方法:git clone https://github.com/WhiteNotWolf/Network_Traffic_Analyse.git  
编译:g++ -o main main.cpp -lpthread -lpcap  
运行:sudo ./main+运行时间+过滤规则,如sudo ./main 10 less 1000,监听10秒钟内数据大小小于1000的数据包。

### tips 
记得选择正确的网卡设备,我在run.cc中默认了网卡是检测到的第一个网卡，没有打印出网卡列表，在run.cc中可以自行更改